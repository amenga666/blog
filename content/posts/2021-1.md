---
title: "Gnirehtetä½¿ç”¨å¸®åŠ©"
date: 2021-03-10T20:00:00+08:00
draft: false
authors: ["BahuangShanren"]
lightgallery: true
tags: [å‘½ä»¤è¡Œ,è½¯ä»¶,ç½‘ç»œ,Linux,MacOS,Windows]
categories: [ä½¿ç”¨]
images: []
featuredImagePreview: ""
summary: Gnirehtetå¯ä»¥é€šè¿‡ `adb` å°†ç”µè„‘çš„ç½‘ç»œåˆ†äº«ç»™Androidè®¾å¤‡
keywords: Gnirehtet,ç½‘ç»œå…±äº«
description: Gnirehtetå¯ä»¥é€šè¿‡ `adb` å°†ç”µè„‘çš„ç½‘ç»œå…±äº«ç»™Androidè®¾å¤‡
---

{{< admonition type=tip title="æ³¨æ„" open=true >}}
- é¡¹ç›®ä»“åº“åœ°å€ï¼š[https://github.com/Genymobile/gnirehtet](https://github.com/Genymobile/gnirehtet)
- åˆ«å¿˜äº†æ‰“å¼€ `å¼€å‘è€…é€‰é¡¹` ä¸­çš„ `USBè°ƒè¯•` å’Œ `USBå®‰è£…` 
- åœ¨ä»»æ„ç»ˆç«¯ä¸­ä½¿ç”¨ gnirehtet çš„ä»¥ä¸‹å‘½ä»¤
- æ¨èå°† gnirehtet æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­æ–¹ä¾¿è°ƒç”¨
{{< /admonition >}}

## ä½¿ç”¨åœºæ™¯

{{< admonition type=example title="ä½¿ç”¨åœºæ™¯" open=true >}}
1. ç”µè„‘æ’ç€ç½‘çº¿å¯ä»¥è”ç½‘ï¼Œä½†æ²¡æœ‰æ— çº¿ç½‘å¡ï¼Œä¹Ÿæ²¡æœ‰éšèº«WiFiï¼Œæ²¡æ³•å¼€çƒ­ç‚¹ã€‚
2. æ‰“æ¸¸æˆæ—¶æƒ³ä½“éªŒæ›´å¿«çš„ç½‘ç»œé€Ÿåº¦ã€‚
3. ä½¿ç”¨åœºæ™¯ç¡®å®ä¸å¤šï¼Œä½†æœ‰æ„æ€çš„æ˜¯ï¼Œé”æ·æ ¡å›­ç½‘å®¢æˆ·ç«¯v6.80 å¹¶ä¸èƒ½æ£€æµ‹åˆ°è¿™ç§æ“ä½œï¼Œæ›´åˆ«æç¦æ­¢äº†ï¼Œæ‰€ä»¥ğŸ˜
{{< /admonition >}}

## Syntax

```shell
gnirehtet (install|uninstall|reinstall|run|autorun|start|autostart|stop|restart|tunnel|relay) ...
```

### gnirehtet install

```shell
  gnirehtet install [serial]
      Install the client on the Android device and exit.
      If several devices are connected via adb, then serial must be specified.
```

- æ­¤å‘½ä»¤ç”¨äºæ‰‹åŠ¨å‘å®‰å“è®¾å¤‡ä¸Šå®‰è£… gnirehtetï¼Œè®¾å¤‡çš„ `serial` ä½¿ç”¨ `adb devices` æŸ¥çœ‹ã€‚
- ä¸­æ‹¬å· `[]` å†…çš„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥åªæœ‰ä¸€å°å®‰å“è®¾å¤‡ä¸ç”µè„‘è¿æ¥æ—¶ï¼Œå¯ä»¥ä¸ç”¨è¾“å…¥ `serial` ã€‚

> å¦‚æœå®‰å“è®¾å¤‡ä¸Šæ²¡æœ‰å®‰è£… gnirehtetï¼Œåç»­è¿è¡Œ `gnirehtet run` å‘½ä»¤æ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨å‘è®¾å¤‡å®‰è£… gnirehtetã€‚

### gnirehtet uninstall

```shell
  gnirehtet uninstall [serial]
      Uninstall the client from the Android device and exit.
      If several devices are connected via adb, then serial must be specified.
```

æ­¤å‘½ä»¤ç”¨äºå¸è½½æŒ‡å®šå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚

### gnirehtet reinstall

```shell
  gnirehtet reinstall [serial]
      Uninstall then install.
```

æ­¤å‘½ä»¤ç”¨äºé‡æ–°å®‰è£…æŒ‡å®šå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚

### gnirehtet run

```shell
  gnirehtet run [serial] [-d DNS[,DNS2,...]] [-p PORT] [-r ROUTE[,ROUTE2,...]]
      Enable reverse tethering for exactly one device:
        - install the client if necessary;
        - start the client;
        - start the relay server;
        - on Ctrl+C, stop both the relay server and the client.
```

- è¿è¡Œ `gnirehtet run` å‘½ä»¤ï¼Œå¯åŠ¨ç”µè„‘å’Œå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚
- é»˜è®¤DNSä¸º `8.8.8.8` ï¼Œä½¿ç”¨ `-d` å‚æ•°æŒ‡å®šDNSï¼Œæ¯”å¦‚ `-d 223.5.5.5,223.6.6.6` ã€‚
- é»˜è®¤ç«¯å£ä¸º `31416` ï¼Œä½¿ç”¨å‚æ•° `-p` æŒ‡å®šç«¯å£ã€‚
- é»˜è®¤è·¯ç”±ä¸º `0.0.0.0/0` ï¼Œä½¿ç”¨å‚æ•° `-r` æŒ‡å®šè·¯ç”±ã€‚
- æŒ‰ `Ctrl+C` ç»“æŸç”µè„‘å’Œå®‰å“è®¾å¤‡ä¸Š gnirehtet çš„è¿è¡Œã€‚

### gnirehtet autorun

```shell
  gnirehtet autorun [-d DNS[,DNS2,...]] [-p PORT] [-r ROUTE[,ROUTE2,...]]
      Enable reverse tethering for all devices:
        - monitor devices and start clients (autostart);
        - start the relay server.
```

`gnirehtet autorun` å’Œ `gnirehtet run` çš„åŒºåˆ«æ˜¯ï¼š

- `gnirehtet autorun` è‡ªåŠ¨å¯åŠ¨ç”µè„‘å’Œå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet 
- è€Œ `gnirehtet run` åªèƒ½å¯åŠ¨ä¸€å°æŒ‡å®šè®¾å¤‡çš„ gnirehtet ã€‚

### gnirehtet start

```shell
  gnirehtet start [serial] [-d DNS[,DNS2,...]] [-p PORT] [-r ROUTE[,ROUTE2,...]]
      Start a client on the Android device and exit.
      If several devices are connected via adb, then serial must be specified.
      If -d is given, then make the Android device use the specified
      DNS server(s). Otherwise, use 8.8.8.8 (Google public DNS).
      If -r is given, then only reverse tether the specified routes.Otherwise, use 0.0.0.0/0 (redirect the whole traffic).
      If -p is given, then make the relay server listen on the specified port. Otherwise, use port 31416.
      If the client is already started, then do nothing, and ignore the other parameters.
      10.0.2.2 is mapped to the host 'localhost'.
```

- æ­¤å‘½ä»¤ç”¨äºå¯åŠ¨æŒ‡å®šå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚
- åªæœ‰å®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet åœæ­¢æ—¶ï¼Œæ‰éœ€è¦æ‰‹åŠ¨å¯åŠ¨ gnirehtet ã€‚

### gnirehtet autostart

```shell
  gnirehtet autostart [-d DNS[,DNS2,...]] [-p PORT] [-r ROUTE[,ROUTE2,...]]
      Listen for device connexions and start a client on every detected
      device.
      Accept the same parameters as the start command (excluding the
      serial, which will be taken from the detected device).
```

æ­¤å‘½ä»¤ç”¨äºè‡ªåŠ¨å¯åŠ¨æ‰€æœ‰ä¸ç”µè„‘è¿æ¥çš„å®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚

### gnirehtet stop

```shell
  gnirehtet stop [serial]
      Stop the client on the Android device and exit.
      If several devices are connected via adb, then serial must be specified.
```

æ­¤å‘½ä»¤ç”¨äºåœæ­¢æŒ‡å®šå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚

### gnirehtet restart

```shell
  gnirehtet restart [serial] [-d DNS[,DNS2,...]] [-p PORT] [-r ROUTE[,ROUTE2,...]]
      Stop then start.
```

æ­¤å‘½ä»¤ç”¨äºé‡æ–°å¯åŠ¨æŒ‡å®šå®‰å“è®¾å¤‡ä¸Šçš„ gnirehtet ã€‚

### gnirehtet tunnel

```shell
  gnirehtet tunnel [serial] [-p PORT]
      Set up the 'adb reverse' tunnel.
      If a device is unplugged then plugged back while gnirehtet is
      active, resetting the tunnel is sufficient to get the connection back.
```

æ­¤å‘½ä»¤ç”¨äºè¿æ¥ä¸­æ–­åçš„è‡ªåŠ¨é‡è¿ã€‚

### gnirehtet relay

```shell
  gnirehtet relay [-p PORT]
      Start the relay server in the current terminal.
```
åœ¨å½“å‰ç»ˆç«¯ä¸­å¯åŠ¨ä¸­ç»§æœåŠ¡å™¨ã€‚

{{< admonition type=tip title="æç¤º" open=true >}}
ä¸€èˆ¬åªç”¨è¿™æ¡å‘½ä»¤ï¼š`gnirehtet run -d 223.5.5.5,223.6.6.6` ï¼Œå¶å°”ç”¨ç”¨ `gnirehtet tunnel` 
{{< /admonition >}}